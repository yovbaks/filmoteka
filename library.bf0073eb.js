function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequire37c5;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){l[e]=n},n.parcelRequire37c5=a),a("jxohN");var i=e(a("amrNH")).template({1:function(e,n,t,l,a){var i,o=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'  <li class="films__item" data-id='+c(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:s)===r?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:2,column:34},end:{line:2,column:40}}}):i)+'>\n\n    <a href="" class="films__wrapper">\n      <div class="films__img-wrapper">\n        <img class="films__img" src="'+c(typeof(i=null!=(i=d(t,"img")||(null!=n?d(n,"img"):n))?i:s)===r?i.call(o,{name:"img",hash:{},data:a,loc:{start:{line:6,column:37},end:{line:6,column:44}}}):i)+'" alt="'+c(typeof(i=null!=(i=d(t,"title")||(null!=n?d(n,"title"):n))?i:s)===r?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:6,column:51},end:{line:6,column:60}}}):i)+'" loading="lazy" />\n      </div>\n\n      <div class="films__info">\n        <p class="films__name">'+c(typeof(i=null!=(i=d(t,"title")||(null!=n?d(n,"title"):n))?i:s)===r?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:10,column:31},end:{line:10,column:40}}}):i)+'</p>\n\n        <p class="films__description">\n          '+c(typeof(i=null!=(i=d(t,"genre")||(null!=n?d(n,"genre"):n))?i:s)===r?i.call(o,{name:"genre",hash:{},data:a,loc:{start:{line:13,column:10},end:{line:13,column:19}}}):i)+"\n          |\n          "+c(typeof(i=null!=(i=d(t,"releaseDate")||(null!=n?d(n,"releaseDate"):n))?i:s)===r?i.call(o,{name:"releaseDate",hash:{},data:a,loc:{start:{line:15,column:10},end:{line:15,column:25}}}):i)+'<span class="rating-on-library-card">'+c(typeof(i=null!=(i=d(t,"vote")||(null!=n?d(n,"vote"):n))?i:s)===r?i.call(o,{name:"vote",hash:{},data:a,loc:{start:{line:15,column:62},end:{line:15,column:70}}}):i)+"</span>\n        </p>\n      </div>\n    </a>\n    \n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var i;return null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:21,column:9}}}))?i:""},useData:!0}),o=a("iZDtr"),s=a("9B8F0"),r=(o=a("iZDtr"),s=a("9B8F0"),a("gC8Yz")),c=a("cgPbV");const d=document.querySelector(".films__container"),m=document.querySelector(".js-films-list-library"),u=document.querySelector(".library__watched-btn");window.addEventListener("load",p),u.addEventListener("click",p);const _=(0,o.load)("allWatchedMovies");function p(e){const n=(0,o.load)("allWatchedMovies");if(void 0!==n&&0!==n.length)g(n);else{d.innerHTML="";const e='<div class="empty-library-img"></div>\n    <p class="empty-library-text">Vincent can\'t find your watched films :(</p>\n    ';d.insertAdjacentHTML("beforeend",e)}}function g(e){const n=e.map((e=>(e.genre.length<=3?e.genre=e.genre.join(", "):e.genre=[e.genre[0],e.genre[1],"Other"].join(", "),e)));m.innerHTML="",m.insertAdjacentHTML("beforeend",i(n))}const{IMG_URL:v}=r.default;function f(e){let n;_.forEach((({id:e},t)=>e===fetch.id?n=t:t)),o.allWatched.splice(n,1),(0,o.save)("allWatchedMovies",o.allWatched),p()}({cardContainer:document.querySelector(".films__container")}).cardContainer.addEventListener("click",(async function(e){if(e.preventDefault(),!u.classList.contains("is-active"))return;if("DIV"!==e.target.nodeName&&"UL"!==e.target.nodeName){if("IMG"===e.target.nodeName){const t=Number(e.target.parentElement.parentElement.parentElement.dataset.id),l=(0,o.load)("allWatchedMovies");n(l.find((e=>e.id===t)))}if("P"===e.target.nodeName){const t=Number(e.target.parentElement.parentElement.parentElement.dataset.id),l=(0,o.load)("allWatchedMovies");n(l.find((e=>e.id===t)))}}function n({id:e,img:n,title:t,popularity:l,vote:a,votes:i,about:o,genre:r}){const c=s.create(`\n    <div class="modal__container">\n      <div class="modal__close">\n        <div class="modal__close-first"></div>\n        <div class="modal__close-second"></div>\n      </div>\n      <div class="modal-wrap">\n        <div class="modal__picture-wrap">\n          <img\n          class="modal__picture"\n          src="${n}"\n          alt="film-picture"\n          />\n          <button class="modal__button-play trailer-button" data-id="${e}">\n            <img class="modal__img-play" src="https://www.freepnglogos.com/uploads/play-button-png/play-button-file-youtube-play-buttom-icon-svg-wikimedia-commons-27.png" alt="play trailer" width="100" height="100" />\n\t\t\t\t\t</button>\n        </div>\n        <div class="modal__desc-wrap">\n          <h2 class="modal-heading">${t}</h2>\n          <div class="modal__rating-wrap">\n            <ul class="modal__rating-left-list">\n              <li class="modal__rating-left-item">Vote / Votes</li>\n              <li class="modal__rating-left-item">Popularity</li>\n              <li class="modal__rating-left-item">Original Title</li>\n              <li class="modal__rating-left-item">Genre</li>\n            </ul>\n            <ul class="modal__rating-right-list">\n              <li class="modal__rating-right-item">\n                <span class="modal__rating-right-item--color">${a}</span> /\n                <span class="modal__rating-right-item--shadow">${i}</span>\n              </li>\n              <li class="modal__rating-right-item">${l}</li>\n              <li class="modal__rating-right-item modal__rating-right-item--uppercase">${t}</li>\n              <li class="modal__rating-right-item">${r}</li>\n            </ul>\n          </div>\n          <div class="modal__content-wrap">\n            <h4 class="modal__content-heading">About</h4>\n            <p class="modal__content">\n              ${o}\n            </p>\n          </div>\n          <div class="modal__button-wrap" data-id="${e}">\n            <button class="modal__button btn-remove-watch" type="button">remove from Watched</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,{onShow:e=>{window.addEventListener("keydown",d),window.addEventListener("click",m),e.element().querySelector(".modal__close").onclick=e.close},onClose:e=>{window.removeEventListener("keydown",d),window.removeEventListener("click",m)}});function d(e){"Escape"===e.code&&(c.element().classList.contains("visually-hidden")||c.close())}function m(e){"basicLightbox__placeholder"===e.target.classList.value&&c.close()}c.show()}(0,c.addListener)();document.querySelector(".btn-remove-watch").addEventListener("click",f)}));o=a("iZDtr"),s=a("9B8F0"),o=a("iZDtr"),s=a("9B8F0"),r=a("gC8Yz"),c=a("cgPbV");const h=document.querySelector(".library__queue-btn"),y=document.querySelector(".films__container"),b=(0,o.load)("allQueueMovies");document.querySelector(".library__watched-btn");function w(){const e=(0,o.load)("allQueueMovies");if(void 0!==e&&0!==e.length)g(e);else{y.innerHTML="";const e='<div class="empty-library-img"></div>\n    <p class="empty-library-text">Vincent can\'t find your queue films :(</p>\n    ';y.insertAdjacentHTML("beforeend",e)}}h.addEventListener("click",w);const{IMG_URL:L}=r.default;function E(e){let n;b.forEach((({id:e},t)=>e===fetch.id?n=t:t)),o.allQueue.splice(n,1),(0,o.save)("allQueueMovies",o.allQueue),w()}({cardContainer:document.querySelector(".films__container")}).cardContainer.addEventListener("click",(async function(e){if(e.preventDefault(),!h.classList.contains("is-active"))return;if("DIV"!==e.target.nodeName&&"UL"!==e.target.nodeName){if("IMG"===e.target.nodeName){const t=Number(e.target.parentElement.parentElement.parentElement.dataset.id),l=(0,o.load)("allQueueMovies");n(l.find((e=>e.id===t)))}if("P"===e.target.nodeName){const t=e.target.parentElement.parentElement.parentElement.dataset.id,l=(0,o.load)("allQueueMovies");n(l.find((e=>e.id===t)))}}function n({id:e,img:n,title:t,popularity:l,vote:a,votes:i,about:o,genre:r}){const c=s.create(`\n    <div class="modal__container">\n      <div class="modal__close">\n        <div class="modal__close-first"></div>\n        <div class="modal__close-second"></div>\n      </div>\n      <div class="modal-wrap">\n        <div class="modal__picture-wrap">\n          <img\n          class="modal__picture"\n          src="${n}"\n          alt="film-picture"\n          />\n          <button class="modal__button-play trailer-button" data-id="${e}">\n            <img class="modal__img-play" src="https://www.freepnglogos.com/uploads/play-button-png/play-button-file-youtube-play-buttom-icon-svg-wikimedia-commons-27.png" alt="play trailer" width="100" height="100" />\n\t\t\t\t\t</button>\n        </div>\n        <div class="modal__desc-wrap">\n          <h2 class="modal-heading">${t}</h2>\n          <div class="modal__rating-wrap">\n            <ul class="modal__rating-left-list">\n              <li class="modal__rating-left-item">Vote / Votes</li>\n              <li class="modal__rating-left-item">Popularity</li>\n              <li class="modal__rating-left-item">Original Title</li>\n              <li class="modal__rating-left-item">Genre</li>\n            </ul>\n            <ul class="modal__rating-right-list">\n              <li class="modal__rating-right-item">\n                <span class="modal__rating-right-item--color">${a}</span> /\n                <span class="modal__rating-right-item--shadow">${i}</span>\n              </li>\n              <li class="modal__rating-right-item">${l}</li>\n              <li class="modal__rating-right-item modal__rating-right-item--uppercase">${t}</li>\n              <li class="modal__rating-right-item">${r}</li>\n            </ul>\n          </div>\n          <div class="modal__content-wrap">\n            <h4 class="modal__content-heading">About</h4>\n            <p class="modal__content">\n              ${o}\n            </p>\n          </div>\n          <div class="modal__button-wrap" data-id="${e}">\n            <button class="modal__button btn-remove-queue">remove from Queue</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,{onShow:e=>{window.addEventListener("keydown",d),window.addEventListener("click",m),e.element().querySelector(".modal__close").onclick=e.close},onClose:e=>{window.removeEventListener("keydown",d),window.removeEventListener("click",m)}});function d(e){"Escape"===e.code&&c.close()}function m(e){"basicLightbox__placeholder"===e.target.classList.value&&c.close()}c.show()}(0,c.addListener)();document.querySelector(".btn-remove-queue").addEventListener("click",E)})),a("iiPHV");const q=document.querySelector(".library__watched-btn"),M=document.querySelector(".library__queue-btn");document.querySelector(".button-group").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;if(e.target.classList.contains("library__watched-btn"))return q.classList.add("is-active"),void M.classList.remove("is-active");if(e.target.classList.contains("library__queue-btn"))return q.classList.remove("is-active"),void M.classList.add("is-active")})),a("4OWG9"),a("7r1Ju");document.querySelector(".nav__form-log-out").addEventListener("submit",(e=>{sessionStorage.removeItem("sign-in")}));
//# sourceMappingURL=library.bf0073eb.js.map
